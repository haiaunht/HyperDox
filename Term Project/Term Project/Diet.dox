Despite its taxonomic classification as a carnivoran, the giant panda's |top.dox:panda| diet is primarily herbivorous, consisting almost exclusively of bamboo. However, the giant panda still has the digestive system of a carnivore, as well as carnivore-specific genes, and thus derives little energy and little protein from consumption of bamboo. Its ability to digest cellulose is ascribed to the microbes in its gut. Pandas are born with sterile intestines and require bacteria obtained from their mother's feces to digest vegetation |reproduction.dox:|. The giant panda is a "highly specialized" animal with "unique adaptations", and has lived in bamboo forests for millions of years. The average giant panda eats as much as 9 to 14 kilograms (20 to 30 pounds) of bamboo shoots a day to compensate for the limited energy content of its diet. Ingestion of such a large quantity of material is possible because of the rapid passage of large amounts of indigestible plant material through the short, straight digestive tract. It is also noted, however, that such rapid passage of digesta limits the potential of microbial digestion in the gastrointestinal tract, limiting alternative forms of digestion. Given this voluminous diet, the giant panda defecates up to 40 times a day. The limited energy input imposed on it by its diet has affected the panda's behavior. The giant panda tends to limit its social interactions and avoids steeply sloping terrain to limit its energy expenditures.
Two of the panda's most distinctive features, its large size and round face, are adaptations to its bamboo diet. Anthropologist Russell Ciochon observed: "[much] like the vegetarian gorilla, the low body surface area to body volume [of the giant panda] is indicative of a lower metabolic rate. This lower metabolic rate and a more sedentary lifestyle allows the giant panda to subsist on nutrient poor resources such as bamboo." Similarly, the giant panda's round face is the result of powerful jaw muscles |description.dox:1267|, which attach from the top of the head to the jaw. Large molars crush and grind fibrous plant material. 
The morphological characteristics of extinct relatives of the giant panda suggest that while the ancient giant panda was omnivorous 7 million years ago, it only became herbivorous some 2 to 2.4 million years ago with the emergence of A. microta. Genome sequencing |genomics.dox:| of the giant panda suggests that the dietary switch could have initiated from the loss of the sole T1R1/T1R3 umami taste receptor, resulting from two frameshift mutations within the T1R1 exons. Umami taste corresponds to high levels of glutamate as found in meat and may have thus altered the food choice of the giant panda. Although the pseudogenization of the umami taste receptor in Ailuropoda coincides with the dietary switch to herbivory, it is likely a result of, and not the reason for, the dietary change. The mutation time for the T1R1 gene in the giant panda is estimated to 4.2 million years ago while fossil evidence indicates bamboo consumption in the giant panda species at least 7 million years ago, signifying that although complete herbivory occurred around 2 million years ago, the dietary switch was initiated prior to T1R1 loss-of-function. 
Pandas eat any of 25 bamboo species in the wild, such as Fargesia dracocephala and Fargesia rufa. Only a few bamboo species are widespread at the high altitudes pandas now inhabit. Bamboo leaves contain the highest protein levels; stems have less.
Because of the synchronous flowering, death, and regeneration of all bamboo within a species, the giant panda must have at least two different species available in its range to avoid starvation. While primarily herbivorous, the giant panda still retains decidedly ursine teeth and will eat meat, fish, and eggs when available. In captivity, zoos typically maintain the giant panda's bamboo diet, though some will provide specially formulated biscuits or other dietary supplements.
Pandas |top.dox:panda| will travel between different habitats if they need to, so they can get the nutrients that they need and to balance their diet for reproduction. For six years, scientists studied six pandas tagged with GPS collars at the Foping Reserve in the Qinling Mountains. They took note of their foraging and mating habits |reproduction.dox:| and analyzed samples of their food and feces. The pandas would move from the valleys into the Qinling Mountains and would only return to the valleys in autumn. During the summer months bamboo shoots rich in protein are only available at higher altitudes which causes low calcium rates in the pandas and during breeding season the pandas would trek back down to eat bamboo leaves rich in calcium.
